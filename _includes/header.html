<head prefix="og: http://ogp.me/ns#">
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="application-name" content="{{ site.title }}" />
  <meta name="apple-mobile-web-app-status-bar-style" content="#fff" />
  <meta name="apple-mobile-web-app-title" content="{{ site.title }}" />
  {% seo %}
  {% if paginator.previous_page %}
  <link
    rel="prev"
    href="{{
      paginator.previous_page_path
        | remove: 'index.html'
        | remove: '.html'
    }}"
  />
  {% endif %} {% if paginator.next_page %}
  <link
    rel="next"
    href="{{
      paginator.next_page_path
        | remove: 'index.html'
        | remove: '.html'
    }}"
  />
  {% endif %}
  <meta name="referrer" content="no-referrer-when-downgrade" />
  {% feed_meta %}
  <!-- TODO make it available on mobile
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="/assets/favicons/apple-touch-icon.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="32x32"
    href="/assets/favicons/favicon-32x32.png"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="/assets/favicons/favicon-16x16.png"
  />
  <link rel="manifest" href="/assets/favicons/site.webmanifest" />
  <link
    rel="mask-icon"
    href="/assets/favicons/safari-pinned-tab.svg"
    color="#5bbad5"
  />
  -->
  <meta name="msapplication-TileColor" content="#da532c" />
  <meta name="theme-color" content="#2c2c2c" />

  <link rel="stylesheet" href="/assets/css/style.css" />
  <link
    rel="stylesheet"
    type="text/css"
    href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css"
  />
  <script>
    // Progressive enhancement: ensure images are lazy-loaded and have a basic alt fallback
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('img').forEach(img => {
        if (!img.hasAttribute('loading')) img.setAttribute('loading', 'lazy');
        if (!img.hasAttribute('alt') || img.getAttribute('alt') === '') {
          const src = img.getAttribute('src') || '';
          const name = src.split('/').pop()?.split('.')[0]?.replace(/[-_]/g, ' ');
          if (name) img.setAttribute('alt', name);
        }
      });
    });
  </script>
  {%- if jekyll.environment == "production" and site.umami and site.umami.url
  and site.umami.id -%}
  <script
    async
    data-website-id="{{ site.umami.id }}"
    src="{{ site.umami.url }}"
  ></script>
  {%- endif -%} {%- if jekyll.environment == "production" and site.fathom and
  site.fathom.host and site.fathom.site_id -%}
  <script>
    (function (f, a, t, h, o, m) {
      a[h] =
        a[h] ||
        function () {
          (a[h].q = a[h].q || []).push(arguments);
        };
      (o = f.createElement("script")),
        (m = f.getElementsByTagName("script")[0]);
      o.async = 1;
      o.src = t;
      o.id = "fathom-script";
      m.parentNode.insertBefore(o, m);
    })(document, window, "//{{ site.fathom.host }}/tracker.js", "fathom");
    fathom("set", "siteId", "{{ site.fathom.site_id }}");
    fathom("trackPageview");
  </script>
  {%- endif -%}
</head>
